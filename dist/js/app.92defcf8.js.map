{"version":3,"file":"js/app.92defcf8.js","mappings":"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","sources":["webpack://nogle-test/./src/App.vue","webpack://nogle-test/src/App.vue","webpack://nogle-test/./src/App.vue?51dd","webpack://nogle-test/./src/App.vue?0e40","webpack://nogle-test/./src/main.js","webpack://nogle-test/webpack/bootstrap","webpack://nogle-test/webpack/runtime/chunk loaded","webpack://nogle-test/webpack/runtime/compat get default export","webpack://nogle-test/webpack/runtime/define property getters","webpack://nogle-test/webpack/runtime/global","webpack://nogle-test/webpack/runtime/hasOwnProperty shorthand","webpack://nogle-test/webpack/runtime/jsonp chunk loading","webpack://nogle-test/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[_c('h1',[_vm._v(\"Order Book\")]),(_vm.sell.length)?_c('div',{staticClass:\"table sell\"},[_vm._m(0),_vm._l((_vm.sell),function(item,key){return _c('div',{key:`sell-${key}`,staticClass:\"td\",class:{ new: item.isNew }},[_c('div',{staticClass:\"price\"},[_vm._v(_vm._s(_vm._f(\"NumWithDigitsFormat\")(item.price)))]),_c('div',{key:item.size_change,staticClass:\"size\",class:item.size_change},[_vm._v(\" \"+_vm._s(_vm._f(\"NumFormat\")(item.size))+\" \")]),_c('div',{staticClass:\"total\"},[_c('span',{staticClass:\"bar\",style:(_vm.setPercent(item.total, 'sell'))}),_vm._v(\" \"+_vm._s(_vm._f(\"NumFormat\")(item.total))+\" \")])])})],2):_vm._e(),_c('div',{staticClass:\"current\",class:_vm.currentType},[_vm._v(\" \"+_vm._s(_vm._f(\"NumFormat\")(_vm.currentPrice.price))+\" \"),(_vm.currentType !== 'equal')?_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"24\",\"height\":\"24\",\"viewBox\":\"0 0 24 24\",\"role\":\"presentation\",\"fill\":\"none\",\"fill-rule\":\"nonzero\",\"stroke\":\"currentColor\",\"stroke-width\":\"4\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}},[_c('line',{attrs:{\"x1\":\"12\",\"y1\":\"5\",\"x2\":\"12\",\"y2\":\"19\"}}),_c('polyline',{attrs:{\"points\":\"19 12 12 19 5 12\"}})]):_vm._e()]),(_vm.buy.length)?_c('div',{staticClass:\"table buy\"},_vm._l((_vm.buy),function(item,key){return _c('div',{key:`buy-${key}`,staticClass:\"td\",class:{ new: item.isNew }},[_c('div',{staticClass:\"price\"},[_vm._v(_vm._s(_vm._f(\"NumWithDigitsFormat\")(item.price)))]),_c('div',{staticClass:\"size\",class:item.size_change},[_vm._v(\" \"+_vm._s(_vm._f(\"NumFormat\")(item.size))+\" \")]),_c('div',{staticClass:\"total\"},[_c('span',{staticClass:\"bar\",style:(_vm.setPercent(item.total, 'buy'))}),_vm._v(\" \"+_vm._s(_vm._f(\"NumFormat\")(item.total))+\" \")])])}),0):_vm._e()])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"tr\"},[_c('div',[_vm._v(\"Price(USD)\")]),_c('div',[_vm._v(\"Size\")]),_c('div',[_vm._v(\"Total\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"app\">\n    <h1>Order Book</h1>\n    <!-- Sell section -->\n    <div class=\"table sell\" v-if=\"sell.length\">\n      <div class=\"tr\">\n        <div>Price(USD)</div>\n        <div>Size</div>\n        <div>Total</div>\n      </div>\n      <div\n        class=\"td\"\n        v-for=\"(item, key) in sell\"\n        :key=\"`sell-${key}`\"\n        :class=\"{ new: item.isNew }\"\n      >\n        <div class=\"price\">{{ item.price | NumWithDigitsFormat }}</div>\n        <div class=\"size\" :key=\"item.size_change\" :class=\"item.size_change\">\n          {{ item.size | NumFormat }}\n        </div>\n        <div class=\"total\">\n          <span class=\"bar\" :style=\"setPercent(item.total, 'sell')\" />\n          {{ item.total | NumFormat }}\n        </div>\n      </div>\n    </div>\n\n    <!-- Current Price section -->\n    <div class=\"current\" :class=\"currentType\">\n      {{ currentPrice.price | NumFormat }}\n      <svg\n        v-if=\"currentType !== 'equal'\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"24\"\n        height=\"24\"\n        viewBox=\"0 0 24 24\"\n        role=\"presentation\"\n        fill=\"none\"\n        fill-rule=\"nonzero\"\n        stroke=\"currentColor\"\n        stroke-width=\"4\"\n        stroke-linecap=\"round\"\n        stroke-linejoin=\"round\"\n      >\n        <line x1=\"12\" y1=\"5\" x2=\"12\" y2=\"19\"></line>\n        <polyline points=\"19 12 12 19 5 12\"></polyline>\n      </svg>\n    </div>\n\n    <!-- Buy section -->\n    <div class=\"table buy\" v-if=\"buy.length\">\n      <div\n        class=\"td\"\n        v-for=\"(item, key) in buy\"\n        :key=\"`buy-${key}`\"\n        :class=\"{ new: item.isNew }\"\n      >\n        <div class=\"price\">{{ item.price | NumWithDigitsFormat }}</div>\n        <div class=\"size\" :class=\"item.size_change\">\n          {{ item.size | NumFormat }}\n        </div>\n        <div class=\"total\">\n          <span class=\"bar\" :style=\"setPercent(item.total, 'buy')\" />\n          {{ item.total | NumFormat }}\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App',\n  data () {\n    return {\n      sell: [\n        {\n          price: 21699.0,\n          size: 3691,\n          total: 5657\n        },\n        {\n          price: 21693.5,\n          size: 461,\n          total: 1966\n        },\n        {\n          price: 21680.5,\n          size: 53,\n          total: 1505\n        },\n        {\n          price: 21680.0,\n          size: 836,\n          total: 1452\n        },\n        {\n          price: 21672.0,\n          size: 40,\n          total: 616\n        },\n        {\n          price: 21669.0,\n          size: 210,\n          total: 576\n        },\n        {\n          price: 21665.5,\n          size: 331,\n          total: 366\n        },\n        {\n          price: 21665.0,\n          size: 35,\n          total: 35\n        }\n      ],\n      buy: [\n        {\n          price: 21699.0,\n          size: 3691,\n          total: 5657\n        },\n        {\n          price: 21693.5,\n          size: 461,\n          total: 1966\n        },\n        {\n          price: 21680.5,\n          size: 53,\n          total: 1505\n        },\n        {\n          price: 21680.0,\n          size: 836,\n          total: 1452\n        },\n        {\n          price: 21672.0,\n          size: 40,\n          total: 616\n        },\n        {\n          price: 21669.0,\n          size: 210,\n          total: 576\n        },\n        {\n          price: 21665.5,\n          size: 331,\n          total: 366\n        },\n        {\n          price: 21665.0,\n          size: 35,\n          total: 35\n        }\n      ],\n      // 買賣榜各 50 筆資料\n      initQuote: {\n        sell: [],\n        buy: []\n      },\n      currentPrice: {}, // 最新價格\n      currentType: 'equal', // 最新價格趨勢：上漲、下跌、持平\n      quoteWs: null, // quote Websocket\n      priceWs: null // last price Websocket\n    }\n  },\n  filters: {\n    // 千分位, 小數點後兩位\n    NumWithDigitsFormat (val) {\n      return Number(parseFloat(val).toFixed(3)).toLocaleString('en', {\n        minimumFractionDigits: 1\n      })\n    },\n    // 千分位\n    NumFormat (val) {\n      return Number(parseFloat(val).toFixed(3)).toLocaleString('en', {\n        minimumFractionDigits: 0\n      })\n    }\n  },\n  watch: {\n    currentPrice: {\n      handler (oldVal, newVal) {\n        this.currentType =\n          oldVal.price < newVal.price\n            ? 'rise'\n            : oldVal.price > newVal.price\n              ? 'fall'\n              : 'equal'\n      },\n      deep: true\n    }\n  },\n  created () {\n    // 開啓前後端的websocket通道\n\n    // 報價表\n    this.initWs('quote')\n\n    // 最新價格\n    this.initWs('price')\n  },\n  methods: {\n    // 處理表格資料\n    getQuoteData (param) {\n      if (param.data.type === 'snapshot') {\n        this.buy = this.setInitData('buy', param.data.bids)\n        this.sell = this.setInitData('sell', param.data.asks)\n      } else if (param.data.type === 'delta') {\n        if (param.data.bids.length > 0) {\n          this.buy = this.updateQuote('buy', param.data.bids)\n          this.sell = this.updateQuote('sell', param.data.asks)\n        }\n      } else {\n        // 取消訂閱\n        this.wsSend({\n          op: 'unsubscribe',\n          args: ['update:BTCPFC']\n        })\n      }\n    },\n    // 初始 websocket\n    initWs (val) {\n      let wsURL = ''\n      if (val === 'quote') {\n        wsURL = 'wss://ws.btse.com/ws/oss/futures'\n        this.quoteWs = new WebSocket(wsURL) // 建立連線\n        this.quoteWs.onopen = this.wsOnOpenQuote\n        this.quoteWs.error = this.wsOnError\n        this.quoteWs.onmessage = this.wsOnMessage\n        this.quoteWs.onclose = this.wsCloseQuote\n      } else {\n        wsURL = 'wss://ws.btse.com/ws/futures'\n        this.priceWs = new WebSocket(wsURL)\n        this.priceWs.onopen = this.wsOnOpenPrice\n        this.priceWs.error = this.wsOnError\n        this.priceWs.onmessage = this.wsOnMessage\n        this.priceWs.onclose = this.wsClosePrice\n      }\n    },\n    // 建立 websocket 連線： quote\n    wsOnOpenQuote () {\n      // console.log('ws 連線成功~~')\n      this.wsSend('quote', {\n        op: 'subscribe',\n        args: ['update:BTCPFC']\n      })\n    },\n    // 建立 websocket 連線： price\n    wsOnOpenPrice () {\n      // console.log('ws 連線成功~~')\n      this.wsSend('price', {\n        op: 'subscribe',\n        args: ['tradeHistoryApi:BTCPFC']\n      })\n    },\n    // websocket 連線失敗\n    wsOnError (e) {\n      console.error('ws 連線失敗', e)\n    },\n    // 後端通知前端，前端取得資料\n    async wsOnMessage (e) {\n      const _data = JSON.parse(e.data)\n\n      if (_data.topic === 'update:BTCPFC') {\n        await this.getQuoteData(_data)\n      } else if (_data.topic === 'tradeHistoryApi') {\n        this.currentPrice = _data.data[0]\n      }\n      // console.log('ws 取得資料', _data)\n    },\n    // 前端向 websocket 送出資料\n    wsSend (type, data) {\n      type === 'quote'\n        ? this.quoteWs.send(JSON.stringify(data))\n        : this.priceWs.send(JSON.stringify(data))\n    },\n    // 關閉 ws 連線：Quote\n    wsCloseQuote () {\n      this.wsSend({\n        op: 'unsubscribe',\n        args: ['update:BTCPFC']\n      })\n      console.log('ws 關閉 Quote 連線')\n    },\n    // 關閉 ws 連線：Price\n    wsClosePrice () {\n      this.wsSend({\n        op: 'unsubscribe',\n        args: ['tradeHistoryApi:BTCPFC']\n      })\n      console.log('ws 關閉 Price 連線')\n    },\n    // 設置初始買賣榜資料\n    setInitData (type, param) {\n      // 排序\n      const temp = param.sort((a, b) => a[0] - b[0])\n\n      // 整理資料格式為符合 UI 呈現用\n      let result = []\n\n      temp.forEach((item) => {\n        result.push({\n          price: Number(item[0]),\n          size: Number(item[1]),\n          total: 0,\n          size_change: 'equal',\n          isNew: false\n        })\n\n        this.initQuote[type].push({\n          price: Number(item[0]),\n          size: Number(item[1]),\n          total: 0,\n          size_change: 'equal',\n          isNew: false\n        })\n      })\n\n      // 取出後 8 項\n      result.splice(0, 42)\n\n      // total 數量初始值\n      let count = 0\n      result.forEach((item) => {\n        count += Number(item.size)\n        item.total = count\n      })\n\n      // 若是 sell 資料，則要反序排列\n      if (type === 'sell') {\n        result = result.sort((a, b) => b.price - a.price)\n      }\n      return result\n    },\n    // 設置背景百分比 CSS\n    setPercent (val, type) {\n      let result = 0\n\n      result =\n        type === 'sell'\n          ? Math.floor((Number(val) / this.sell[0].total) * 100)\n          : (result = Math.floor((Number(val) / this.buy[7].total) * 100))\n\n      return { width: result + '%' }\n    },\n    // 更新買賣榜資料\n    updateQuote (type, param) {\n      // 將 isNew, size_change 調回預設值\n      this.initQuote[type].forEach((item) => {\n        item.isNew = false\n        item.size_change = 'equal'\n      })\n\n      // 將新的資料 更新至 initBuy 裡\n      param.forEach((item) => {\n        // 原有的 initBuy 裡是否有資料\n        const hasData = this.initQuote[type].findIndex(\n          (old) => old.price === Number(item[0])\n        )\n\n        // 若是新的價格，則推入 initBuy\n        if (hasData === -1) {\n          this.initQuote[type].push({\n            price: Number(item[0]),\n            size: Number(item[1]),\n            total: 0,\n            size_change: 'equal',\n            isNew: true\n          })\n        } else {\n          // 已經存在的價格，則改寫 initBuy 的資料\n\n          // 若 size 為 0 ，則從 this.initQuote[type] 移除價格\n          if (Number(item[1]) === 0) {\n            this.initQuote[type].splice(hasData, 1)\n            return\n          }\n\n          // 若 新 size < 原 size\n          if (this.initQuote[type][hasData].size > Number(item[1])) {\n            this.initQuote[type][hasData].size_change = 'fall'\n          }\n\n          // 若 新 size > 原 size\n          if (this.initQuote[type][hasData].size < Number(item[1])) {\n            this.initQuote[type][hasData].size_change = 'rise'\n          }\n\n          this.initQuote[type][hasData].size = Number(item[1])\n        }\n      })\n\n      this.initQuote[type] = this.initQuote[type].filter(\n        (item) => item.size !== 0\n      )\n\n      // 加入新資料後再次排序\n      this.initQuote[type] = this.initQuote[type].sort(\n        (a, b) => a.price - b.price\n      )\n\n      // 只留最後 50 筆\n      if (this.initQuote[type].length > 50) {\n        this.initQuote[type].splice(0, this.initQuote[type].length - 50)\n      }\n\n      // 切出要顯示在畫面上的資料\n      const result = JSON.parse(JSON.stringify(this.initQuote[type]))\n      if (result.length > 8) {\n        result.splice(0, result.length - 8)\n      }\n\n      // 計算要顯示在畫面上資料的 total 值\n      let count = 0\n      result.forEach((item) => {\n        count += Number(item.size)\n        item.total = count\n      })\n\n      if (type === 'sell') {\n        result.sort((a, b) => b.price - a.price)\n      }\n\n      return result\n    }\n  },\n  destroy () {\n    // 關閉websocket通道\n    this.wsCloseQuote()\n    this.wsClosePrice()\n  }\n}\n</script>\n\n<style lang=\"scss\">\n$background: #131b29;\n$defaultText: #f0f4f8;\n$quoteTableHeadText: #8698aa;\n$buyQuotePrice: #00b15d;\n$sellQuotePrice: #ff5b5a;\n$quoteRowHoverBackground: #1e3059;\n$buyQuoteAccumulativeTotalSizeBar: rgba(16, 186, 104, 0.12);\n$sellQuoteAccumulativeTotalSizeBar: rgba(255, 90, 90, 0.12);\n$equalQuoteAccumulativeTotalSizeBar: rgba(134, 152, 170, 0.12);\n$animationFlashGreenBackground: rgba(0, 177, 93, 0.5);\n$animationFlashRedBackground: rgba(255, 91, 90, 0.5);\n\n$p-15: 15px;\n\n#app {\n  width: 375px;\n  margin: 0 auto;\n  background: $background;\n  text-align: center;\n  color: $defaultText;\n  margin-top: 60px;\n  padding: 10px 0;\n}\n\nh1 {\n  text-align: left;\n  border-bottom: 1px solid rgba(#8698aa, 0.2);\n  padding: 0 $p-15 10px;\n  margin: 0;\n}\n\n.table {\n  .tr {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    color: $quoteTableHeadText;\n\n    > div {\n      flex: 1;\n      text-align: right;\n    }\n\n    div:first-child {\n      text-align: left;\n      padding-left: $p-15;\n    }\n\n    div:last-child {\n      padding-right: $p-15;\n    }\n  }\n  .td {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    > div {\n      flex: 1;\n      text-align: right;\n    }\n\n    div:first-child {\n      text-align: left;\n      padding-left: $p-15;\n    }\n\n    &:hover {\n      background: $quoteRowHoverBackground;\n    }\n\n    .size {\n      &.rise {\n        background: $animationFlashGreenBackground;\n      }\n\n      &.fall {\n        background: $animationFlashRedBackground;\n      }\n    }\n\n    .total {\n      position: relative;\n      padding-right: $p-15;\n      span {\n        display: block;\n        position: absolute;\n        right: 0;\n        height: 100%;\n      }\n    }\n  }\n}\n\n// sell 表格\n.table.sell {\n  .td.new {\n    background: $animationFlashRedBackground;\n  }\n  .td div:first-child {\n    color: $sellQuotePrice;\n  }\n  .total {\n    span {\n      background: $sellQuoteAccumulativeTotalSizeBar;\n    }\n  }\n}\n\n// buy 表格\n.table.buy {\n  .td.new {\n    background: $animationFlashGreenBackground;\n  }\n\n  .td div:first-child {\n    color: $buyQuotePrice;\n  }\n\n  .total {\n    span {\n      background: $buyQuoteAccumulativeTotalSizeBar;\n    }\n  }\n}\n\n// 最新價格\n.current {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 10px 0;\n  font-weight: 900;\n\n  svg {\n    margin-left: 5px;\n  }\n\n  &.fall {\n    background: $buyQuoteAccumulativeTotalSizeBar;\n    color: $buyQuotePrice;\n\n    svg {\n      transform: rotate(180deg);\n    }\n  }\n\n  &.rise {\n    background: $sellQuoteAccumulativeTotalSizeBar;\n    color: $sellQuotePrice;\n  }\n\n  &.equal {\n    background: $equalQuoteAccumulativeTotalSizeBar;\n    color: $defaultText;\n  }\n}\n</style>\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=4c44cadc&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=4c44cadc&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App)\n}).$mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunknogle_test\"] = self[\"webpackChunknogle_test\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(4700); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_vm","this","_c","_self","attrs","_v","sell","length","staticClass","_m","_l","item","key","class","new","isNew","_s","_f","price","size_change","size","style","setPercent","total","_e","currentType","currentPrice","buy","staticRenderFns","name","data","initQuote","quoteWs","priceWs","filters","NumWithDigitsFormat","minimumFractionDigits","NumFormat","watch","handler","oldVal","deep","created","methods","getQuoteData","op","args","initWs","wsURL","wsOnOpenQuote","wsOnOpenPrice","wsOnError","console","wsSend","type","wsCloseQuote","wsClosePrice","setInitData","temp","result","count","Math","width","updateQuote","param","old","destroy","component","Vue","h","App","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","Object","keys","every","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","Function","e","window","obj","prop","prototype","hasOwnProperty","call","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","id","chunkLoadingGlobal","self","forEach","bind","push","__webpack_exports__"],"sourceRoot":""}